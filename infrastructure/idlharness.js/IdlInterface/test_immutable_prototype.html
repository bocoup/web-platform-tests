<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="variant" content="">
  <meta name="variant" content="?remove-promise">
  <title>idlharness: Immutable prototypes</title>
  <script src="/infrastructure/testharness.js/resources/variant-promise.js"></script>
  <script src="/resources/testharness.js"></script>
  <script src="/resources/testharnessreport.js"></script>
  <script src="/resources/WebIDLParser.js"></script>
  <script src="/resources/idlharness.js"></script>
</head>
<body>
<script>
"use strictt";

Object.defineProperty(window, "Foo", {
    enumerable: false,
    writable: true,
    configurable: true,
    value: function Foo() {}
  });
Object.defineProperty(window.Foo, "prototype", {
    writable: false,
    value: window.Foo.prototype
  });
Foo.prototype[Symbol.toStringTag] = "Foo";

var idlArray = new IdlArray();
idlArray.add_untested_idls("interface EventTarget {};");
idlArray.add_idls(
    "[Global=Window, Exposed=Window]\n" +
    "interface Window : EventTarget {};\n" +

    "[Global=Window, Exposed=Window, Constructor()]\n" +
    "interface Foo {};"
  );
idlArray.add_objects({
  Foo: ["new Foo()"],
  Window: ["window"]
});
idlArray.test();
</script>
</body>
</html>
